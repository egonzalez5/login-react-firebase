[{"C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\index.js":"1","C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\App.jsx":"2","C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\components\\Navbar.jsx":"3","C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\components\\Login.jsx":"4","C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\firebase.js":"5","C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\components\\Admin.jsx":"6","C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\components\\Firestore.jsx":"7","C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\components\\Reset.jsx":"8"},{"size":202,"mtime":1610092580585,"results":"9","hashOfConfig":"10"},{"size":1097,"mtime":1610219178233,"results":"11","hashOfConfig":"10"},{"size":1673,"mtime":1610215259104,"results":"12","hashOfConfig":"10"},{"size":5495,"mtime":1610219096943,"results":"13","hashOfConfig":"10"},{"size":546,"mtime":1610134827013,"results":"14","hashOfConfig":"10"},{"size":778,"mtime":1610216775887,"results":"15","hashOfConfig":"10"},{"size":5651,"mtime":1610390499754,"results":"16","hashOfConfig":"10"},{"size":2203,"mtime":1610219620889,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1qpfwsx",{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"20"},"C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\index.js",[],["38","39"],"C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\App.jsx",["40"],"import { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, route, Route } from \"react-router-dom\";\nimport Admin from \"./components/Admin\";\nimport Login from \"./components/Login\";\nimport Navbar from \"./components/Navbar\";\nimport Reset from \"./components/Reset\";\n\nimport {auth} from './firebase'\n\n\n\nfunction App() {\n\n  const [firebaseUser, setFirebaseUser] = useState(false)\n\n  useEffect(() => {\n    auth.onAuthStateChanged(user => {\n      console.log(user)\n    if(user){\n      setFirebaseUser(user)\n    }else{\n      setFirebaseUser(null)\n    }\n  })\n  }, [])\n\n  return firebaseUser !== false ? (\n    <Router>\n    <div className=\"container\">\n\n      <Navbar firebaseUser={firebaseUser}/>\n\n      <Switch>\n        <Route path=\"/\" exact>\n          Inicio...\n        </Route>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route path=\"/admin\">\n          <Admin />\n        </Route>\n        <Route path=\"/reset\">\n          <Reset />\n        </Route>\n      </Switch>\n\n    </div>\n    </Router>\n  ) : (\n    <p>Cargando...</p>\n  )\n}\n\nexport default App;\n","C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\components\\Navbar.jsx",[],"C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\components\\Login.jsx",["41","42"],"import React, { useState } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport {auth, db} from '../firebase'\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const [email, setEmail] = useState('edu1@gmail.com')\r\n    const [pass, setPass] = useState('123456')\r\n    const [error, setError] = useState(null)\r\n\r\n    const [esRegistro, setEsRegistro] = useState(true)\r\n\r\n    const procesarDatos = e => {\r\n        e.preventDefault()\r\n        if(!email.trim()){\r\n            setError('Ingrese Email')\r\n            return\r\n        }\r\n        if(!pass.trim()){\r\n            setError('Ingrese Password')\r\n            return\r\n        }\r\n        if(pass.length < 6){\r\n            setError('Debe ingresar una password con 6 caracteres o más')\r\n            return\r\n        }\r\n        \r\n        console.log('pasa validaciones')\r\n        setError(null)\r\n\r\n        if(esRegistro){\r\n            registrar()\r\n        }else{\r\n            login()\r\n        }\r\n    }\r\n\r\n    const login = React.useCallback(async () => {\r\n        try {\r\n            const res = await auth.signInWithEmailAndPassword(email, pass)\r\n            console.log(res.user)\r\n            setEmail('')\r\n            setPass('')\r\n            setError(null)\r\n            props.history.push('/admin')\r\n        } catch (error) {\r\n            console.log(error)\r\n            if(error.code === 'auth/invalid-email'){\r\n                setError('Email no válido')\r\n            }\r\n            if(error.code === 'auth/user-not-found'){\r\n                setError('Email no registrado')\r\n            }\r\n            if(error.code === 'auth/wrong-password'){\r\n                setError('Clave incorrecta')\r\n            }\r\n\r\n        }\r\n    }, [email, pass, props.history])\r\n\r\n    const registrar = React.useCallback(async() => {\r\n\r\n        try {\r\n            const res = await auth.createUserWithEmailAndPassword(email, pass)\r\n            await db.collection('usuarios').doc(res.user.email).set({\r\n                email: res.user.email,\r\n                uid: res.user.uid\r\n            })\r\n            await db.collection(res.user.uid).add({\r\n                name: 'Tarea de ejemplo',\r\n                fecha: Date.now()\r\n            })\r\n            setEmail('')\r\n            setPass('')\r\n            setError(null)\r\n            props.history.push('/admin')\r\n        } catch (error) {\r\n            console.log(error)\r\n            if(error.code === 'auth/invalid-email'){\r\n                setError('Email no válido')\r\n            }\r\n            if(error.code === 'auth/email-already-in-use'){\r\n                setError('Este Email ya esta registrado')\r\n            }\r\n        }\r\n\r\n    }, [email, pass, props.history])\r\n    \r\n    return (\r\n        <div className=\"mt-5\">\r\n           <h3 className=\"text-center\">\r\n               {\r\n                   esRegistro ? 'Registro de usuarios' : 'Login de acceso'\r\n               }\r\n           </h3>\r\n            <hr />\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col-12 col-sm-8 col-md-6 col-xl-4\">\r\n                    <form onSubmit={procesarDatos}>\r\n                        {\r\n                            error && (\r\n                                <div className=\"alert alert-danger\">\r\n                                    {error}\r\n                                </div>\r\n                            )\r\n                        }\r\n                        <input\r\n                            type=\"email\" className=\"form-control\"\r\n                            className=\"form-control mb-2\"\r\n                            placeholder=\"Ingrese email\"\r\n                            onChange={e => setEmail(e.target.value)}\r\n                            value={email}\r\n                        />\r\n                        <input\r\n                            type=\"password\" className=\"form-control\"\r\n                            className=\"form-control mb-2\"\r\n                            placeholder=\"Ingrese password\"\r\n                            onChange={e => setPass(e.target.value)}\r\n                            value={pass}\r\n                        />\r\n                        <button className=\"btn btn-dark btn-lg btn-block\" type=\"submit\">\r\n                            {\r\n                                esRegistro ? 'Registrarse' : 'Acceder'\r\n                            }\r\n                        </button>\r\n                        <button \r\n                            className=\"btn btn-info btn-sm btn-block\"\r\n                            onClick={() => setEsRegistro(!esRegistro)}\r\n                            type=\"button\"\r\n                        >\r\n                            {\r\n                                esRegistro ? '¿Ya estas registrado?' : '¿No tienes Cuenta?'\r\n                            }\r\n                            \r\n                        </button>\r\n                        {\r\n                            !esRegistro ? (\r\n                                <button \r\n                                className=\"btn btn-lg btn-danger btn-sm mt-2\"\r\n                                type=\"button\"\r\n                                onClick={() => props.history.push('/reset')}\r\n                                >\r\n                                    Recuperar Contraseña\r\n                                </button>\r\n                            ) : null\r\n                        }\r\n                        \r\n\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Login)\r\n","C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\firebase.js",[],"C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\components\\Admin.jsx",[],"C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\components\\Firestore.jsx",[],"C:\\Users\\Edt11\\Desktop\\Proyectos\\React\\login\\src\\components\\Reset.jsx",["43"],"import React, { useState } from 'react'\r\nimport {auth} from '../firebase'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nconst Reset = (props) => {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [error, setError] = useState(null)\r\n\r\n    const procesarDatos = e => {\r\n        e.preventDefault()\r\n        if(!email.trim()){\r\n            setError('Ingrese Email')\r\n            return\r\n        }\r\n        setError(null)\r\n\r\n        recuperar()\r\n    }\r\n\r\n    const recuperar = React.useCallback(async () => {\r\n\r\n        try {\r\n            await auth.sendPasswordResetEmail(email)\r\n            console.log('correo enviado')\r\n            props.history.push('login')\r\n        } catch (error) {\r\n            console.log(error)\r\n            setError(error.message)\r\n        }\r\n\r\n    }, [email, props.history])\r\n\r\n    return (\r\n        <div>\r\n                    <div className=\"mt-5\">\r\n           <h3 className=\"text-center\">\r\n               Reiniciar contraseña\r\n           </h3>\r\n            <hr />\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col-12 col-sm-8 col-md-6 col-xl-4\">\r\n                    <form onSubmit={procesarDatos}>\r\n                        {\r\n                            error && (\r\n                                <div className=\"alert alert-danger\">\r\n                                    {error}\r\n                                </div>\r\n                            )\r\n                        }\r\n                        <input\r\n                            type=\"email\" className=\"form-control\"\r\n                            className=\"form-control mb-2\"\r\n                            placeholder=\"Ingrese email\"\r\n                            onChange={e => setEmail(e.target.value)}\r\n                            value={email}\r\n                        />\r\n\r\n                        <button className=\"btn btn-dark btn-lg btn-block\" type=\"submit\">\r\n                            Reiniciar Contraseña\r\n                        </button>\r\n                       \r\n                \r\n                    </form>\r\n                </div>\r\n            </div>\r\n        \r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Reset)\r\n",{"ruleId":"44","replacedBy":"45"},{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","severity":1,"message":"49","line":2,"column":43,"nodeType":"50","messageId":"51","endLine":2,"endColumn":48},{"ruleId":"52","severity":1,"message":"53","line":110,"column":29,"nodeType":"54","endLine":110,"endColumn":58},{"ruleId":"52","severity":1,"message":"53","line":117,"column":29,"nodeType":"54","endLine":117,"endColumn":58},{"ruleId":"52","severity":1,"message":"53","line":53,"column":29,"nodeType":"54","endLine":53,"endColumn":58},"no-native-reassign",["55"],"no-negated-in-lhs",["56"],"no-unused-vars","'route' is defined but never used.","Identifier","unusedVar","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-global-assign","no-unsafe-negation"]